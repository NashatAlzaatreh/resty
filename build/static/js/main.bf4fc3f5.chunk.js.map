{"version":3,"sources":["components/header/Header.js","components/footer/Footer.js","components/form/Form.js","components/results/Results.js","components/history/Historya.js","components/history/History.js","App.js","index.js"],"names":["Header","Footer","Form","props","useState","method","setMethod","element","setElement","e","a","preventDefault","fetch","target","url","value","res","json","data","formData","handleApiCall","console","error","handleChange","className","id","toUpperCase","onSubmit","name","type","onClick","cols","rows","placeholder","Results","mock","log","headers","results","History","history","map","elm","class","initialState","requestParams","historyReducer","state","action","payload","resData","historyAction","App","setLoading","useReducer","dispatch","callApi","Fragment","length","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.bf4fc3f5.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Header() {\n  return (\n    <header>\n      <h1 data-testid=\"title\">RESTy</h1>\n    </header>\n  );\n}\n","import React from \"react\";\n\nexport default function Footer() {\n  return <footer>&copy; Nashat Alzaatreh 2021</footer>;\n}\n","import React, { useState } from \"react\";\nimport \"./form.scss\";\n\nexport default function Form(props) {\n  const [method, setMethod] = useState(\"GET\");\n  const [element, setElement] = useState(null);\n  const [body, setBody] = useState(\"\");\n\n  async function handleSubmit(e) {\n    // props.setLoading(true);\n    e.preventDefault();\n    try {\n      const res = await fetch(`${e.target.url.value}`);\n      const data = await res.json();\n      const formData = {\n        method: method,\n        url: e.target.url.value,\n      };\n\n      props.handleApiCall(formData, data);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  function handleChange(e) {\n    if (element) element.className = \"\";\n    setElement(e.target);\n    setMethod(e.target.id.toUpperCase());\n    e.target.className = \"active\";\n  }\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>URL: </span>\n          <input id=\"formInput\" name=\"url\" type=\"text\" />\n          <button data-testid=\"butt\" type=\"submit\">\n            GO!\n          </button>\n        </label>\n        <label className=\"methods\">\n          <span id=\"get\" data-testid=\"getbutt\" onClick={handleChange}>\n            GET\n          </span>\n          <span id=\"post\" data-testid=\"postButt\" onClick={handleChange}>\n            POST\n          </span>\n          <span id=\"put\" onClick={handleChange}>\n            PUT\n          </span>\n          <span id=\"delete\" onClick={handleChange}>\n            DELETE\n          </span>\n        </label>\n        {(method === \"POST\" || method === \"PUT\") && (\n          <textarea\n            name=\"body\"\n            id=\"body\"\n            cols=\"60\"\n            rows=\"15\"\n            placeholder=\"{'key': 'value'}\"\n          ></textarea>\n        )}\n      </form>\n    </>\n  );\n}\n\n// const formData = {\n//   method: \"GET\",\n//   url: \"https://pokeapi.co/api/v2/pokemon\",\n// };\n","import React from \"react\";\nimport JSONPretty from \"react-json-pretty\";\nimport \"react-json-pretty/themes/monikai.css\";\nimport \"./results.scss\";\nexport default function Results(props) {\n  const mock = {\n    type: `mock ${props.method} data`,\n    \"cache-control\": \"public, max-age=86400, s-maxage=86400\",\n    \"content-type\": \"application/json; charset=utf-8\",\n  };\n  console.log(props.data);\n  return (\n    <section>\n      <section id=\"scroll\" data-testid=\"renderedData\">\n        <h2>Headers</h2>\n        <JSONPretty\n          data={props.data.headers ? props.data.headers : mock}\n        ></JSONPretty>\n        <h2>Results</h2>\n\n        <JSONPretty\n          id=\"json-pretty\"\n          data={props.data.results ? props.data.results : props.data}\n        ></JSONPretty>\n      </section>\n    </section>\n  );\n}\n","import React from \"react\";\nimport \"./history.scss\";\n\nfunction History(props) {\n  return (\n    <div>\n      <h3>History:</h3>\n      {props.history.map((elm) => {\n        return (\n          <div>\n            <ul>\n              <li>\n                <span id=\"elm\">{elm.method}</span>\n                <button class=\"url\">{elm.url}</button>\n              </li>\n            </ul>\n            {/* {elm.method.toUpperCase()} {elm.url} <br /> */}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default History;\n","const initialState = {\n  history: [],\n  requestParams: {},\n  data: null,\n};\n\nfunction historyReducer(state = initialState, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case \"ADD-TO-HISTORY\":\n      const history = [...state.history, payload.history];\n      const requestParams = payload.history;\n      const data = payload.resData;\n      return { history, requestParams, data };\n    default:\n      return state;\n  }\n}\n\nfunction historyAction(history, resData) {\n  return {\n    type: \"ADD-TO-HISTORY\",\n    payload: { history, resData },\n  };\n}\nexport { initialState, historyAction, historyReducer };\n\n// module.exports = {\n//   initialState,\n//   historyReducer,\n//   historyAction,\n// };\n","import React, { useState, useReducer } from \"react\";\nimport \"./app.scss\";\nimport Header from \"./components/header/Header\";\nimport Footer from \"./components/footer/Footer\";\nimport Form from \"./components/form/Form\";\nimport Results from \"./components/results/Results\";\n// import { BeatLoader } from \"react-spinners\";\nimport History from \"./components/history/Historya\";\nimport {\n  initialState,\n  historyReducer,\n  historyAction,\n} from \"./components/history/History\";\n\nexport default function App() {\n  const [loading, setLoading] = useState(false);\n  const [state, dispatch] = useReducer(historyReducer, initialState);\n\n  const callApi = async (formData, resData) => {\n    // setLoading(true);\n    dispatch(historyAction(formData, resData));\n    if (formData) {\n      setLoading(false);\n    }\n  };\n  return (\n    <React.Fragment>\n      <Header />\n      <div data-testid=\"method\">\n        Request Method:{state.requestParams.method}\n      </div>\n      <div>URL: {state.requestParams.url}</div>\n      <Form handleApiCall={callApi} setLoading={setLoading} />\n      {state.history.length ? <History history={state.history} /> : null}\n      {/* {history.length ? <History history={history} /> : null} */}\n      {/* {loading ? <BeatLoader /> : null} */}\n      {state.data ? (\n        state.requestParams.method === \"GET\" ? (\n          <Results data={state.data} />\n        ) : (\n          <>\n            {/* <BeatLoader /> */}\n            {/* <div class=\"sbl-dot-slide\"></div> */}\n            <div class=\"cp-spinner cp-round\"></div>\n          </>\n        )\n      ) : null}\n\n      <Footer />\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.js\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}